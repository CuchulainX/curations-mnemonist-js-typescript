import {Head} from 'mdx-deck';
import WideLayout from './components/WideLayout';
import MainTitle, {MainTitleBis} from './components/MainTitle';
import Title from './components/Title';
export theme from './theme';

<Head>
  <title>FOSDEM 2019 - Developing data structures for JavaScript</title>
  <link href="https://fonts.googleapis.com/css?family=Muli:900" rel="stylesheet" />
</Head>

<MainTitle />

<small>JavaScript devroom, FOSDEM 2019, Brussels</small>

---

## Why and how to implement efficient data structures to use with node.js or in the browser?

---

## Who am I?

*Guillaume Plique*

alias `Yomguithereal` on both [Github](https://github.com/Yomguithereal) an [Twitter](https://twitter.com/Yomguithereal).

Research engineer working for Sciences Po's [médialab](https://medialab.sciencespo.fr).

---

> «Web development is not real development and is henceforth easier.»

<div style={{textAlign: 'right'}}>
  <small>
    Someone wrong on the Internet.
  </small>
</div>

---

> «Web development is trivial and web developers don't need fancy data structures or any solid knowledge in algorithmics.»

<div style={{textAlign: 'right'}}>
  <small>
    Someone still wrong (and pedant) on the Internet.
  </small>
</div>

---

### But, don't we already have fully satisfying data structures in JavaScript?

* `Array` => lists of things
* `Object` => key-value associations
* `Map` and `Set` with ES6

---

### So, why would we want other data structures in JavaScript?

---

<MainTitleBis />

<small>JavaScript devroom, FOSDEM 2019, Brussels</small>

---

<Title affix="1.">Why?</Title>

---

<Title affix="1.1.">Convenience and bookkeeping</Title>

---

export default WideLayout

<Title affix="1.1.1." level={3}>A MultiSet</Title>

```js
// How about changing this:
var counts = {};

for (var item in something) {
  if (!(item in counts))
    counts[item] = 0;

  counts[item]++;
}

// Into this:
var counts = new MultiSet();

for (var item in something)
  counts.add(item);
```

---

export default WideLayout

```js
// And what about this:
var counts = {};

for (var item in something) {
  if (!(item.key in counts))
    counts[item.key] = 0;

  counts[item.key] += item.value;

  // But value CAN be negative
  // and you don't want to keep items < 0
  if (counts[item.key] < 0)
    delete counts[item.key];
}
```

---

export default WideLayout

<Title affix="1.1.1." level={3}>A MultiSet</Title>

```js
// Still this:
var counts = new MultiSet();

for (var item in something)
  counts.add(item);
```

---

<Title affix="1.1.2." level={3}>Complex structures: a Graph</Title>

Sure, you can "implement" graphs using only `Array` and `Object`™.

But:

* Lots of bookkeeping (multi-way indexation)
* Wouldn't it be nice to have a legible interface?

---

Examples taken from the [graphology](https://graphology.github.io/) library:

```js
const graph = new Graph();

// Finding specific neighbors
const neighbors = graph.outNeighbors(node);

// Iterating over a node's edges
graph.forEachEdge(node, (edge, attributes) => {
  console.log(attributes.weight);
});
```

---

<Title affix="1.2.">Sometimes Array and Objects are not enough</Title>

---

<Title affix="1.2.1." level={3}>The QuadTree</Title>

<img src="./img/quadtree.svg" />
